'use strict';var vscode=require('vscode'),d=require('fs'),gr=require('os'),k=require('path/posix'),ho=require('url'),de=require('path'),util=require('util'),Se=require('process'),child_process=require('child_process'),crypto=require('crypto');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var d__default=/*#__PURE__*/_interopDefault(d);var gr__default=/*#__PURE__*/_interopDefault(gr);var k__default=/*#__PURE__*/_interopDefault(k);var ho__default=/*#__PURE__*/_interopDefault(ho);var de__default=/*#__PURE__*/_interopDefault(de);var Se__default=/*#__PURE__*/_interopDefault(Se);var Tn=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});function cs(e){let t=Object.create(null);for(let n of e.split(","))t[n]=1;return n=>n in t}process.env.NODE_ENV!=="production"?Object.freeze({}):{};process.env.NODE_ENV!=="production"&&Object.freeze([]);var Ye=Object.assign,ls=Object.prototype.hasOwnProperty,Ct=(e,t)=>ls.call(e,t),q=Array.isArray,ve=e=>Ze(e)==="[object Map]",Q=e=>typeof e=="function",ds=e=>typeof e=="string",Ae=e=>typeof e=="symbol",ye=e=>e!==null&&typeof e=="object",hs=Object.prototype.toString,Ze=e=>hs.call(e),Pn=e=>Ze(e).slice(8,-1),Ut=e=>ds(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gs=e=>{let t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vs=gs(e=>e.charAt(0).toUpperCase()+e.slice(1)),re=(e,t)=>!Object.is(e,t);function K(e,...t){console.warn(`[Vue warn] ${e}`,...t);}var T,kt=class{constructor(t=false){this.detached=t,this._active=true,this.effects=[],this.cleanups=[],this._isPaused=false,this.parent=T,!t&&T&&(this.index=(T.scopes||(T.scopes=[])).push(this)-1);}get active(){return this._active}pause(){if(this._active){this._isPaused=true;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause();}}resume(){if(this._active&&this._isPaused){this._isPaused=false;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume();}}run(t){if(this._active){let n=T;try{return T=this,t()}finally{T=n;}}else process.env.NODE_ENV!=="production"&&K("cannot run an inactive effect scope.");}on(){T=this;}off(){T=this.parent;}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(true);if(!this.detached&&this.parent&&!t){let s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index);}this.parent=void 0,this._active=false;}}};function An(e){return new kt(e)}function et(){return T}var m;var $n=0,Re,De;function Ln(e,t=false){if(e.flags|=8,t){e.next=De,De=e;return}e.next=Re,Re=e;}function jt(){$n++;}function Ht(){if(--$n>0)return;if(De){let t=De;for(De=void 0;t;){let n=t.next;t.next=void 0,t.flags&=-9,t=n;}}let e;for(;Re;){let t=Re;for(Re=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger();}catch(r){e||(e=r);}t=n;}}if(e)throw e}function Fn(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t;}function Wn(e){let t,n=e.depsTail,r=n;for(;r;){let s=r.prevDep;r.version===-1?(r===n&&(n=s),Bt(r),ys(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s;}e.deps=t,e.depsTail=n;}function Rt(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Vn(t.dep.computed)||t.dep.version!==t.version))return  true;return !!e._dirty}function Vn(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ne))return;e.globalVersion=Ne;let t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Rt(e)){e.flags&=-3;return}let n=m,r=j;m=e,j=true;try{Fn(e);let s=e.fn(e._value);(t.version===0||re(s,e._value))&&(e._value=s,t.version++);}catch(s){throw t.version++,s}finally{m=n,j=r,Wn(e),e.flags&=-3;}}function Bt(e,t=false){let{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),process.env.NODE_ENV!=="production"&&n.subsHead===e&&(n.subsHead=s),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Bt(o,true);}!t&&!--n.sc&&n.map&&n.map.delete(n.key);}function ys(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0);}var j=true,Un=[];function Kt(){Un.push(j),j=false;}function Gt(){let e=Un.pop();j=e===void 0?true:e;}var Ne=0,Dt=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0;}},Ie=class{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,process.env.NODE_ENV!=="production"&&(this.subsHead=void 0);}track(t){if(!m||!j||m===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==m)n=this.activeLink=new Dt(m,this),m.deps?(n.prevDep=m.depsTail,m.depsTail.nextDep=n,m.depsTail=n):m.deps=m.depsTail=n,jn(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){let r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=m.depsTail,n.nextDep=void 0,m.depsTail.nextDep=n,m.depsTail=n,m.deps===n&&(m.deps=r);}return process.env.NODE_ENV!=="production"&&m.onTrack&&m.onTrack(Ye({effect:m},t)),n}trigger(t){this.version++,Ne++,this.notify(t);}notify(t){jt();try{if(process.env.NODE_ENV!=="production")for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(Ye({effect:n.sub},t));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify();}finally{Ht();}}};function jn(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)jn(r);}let n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),process.env.NODE_ENV!=="production"&&e.dep.subsHead===void 0&&(e.dep.subsHead=e),e.dep.subs=e;}}var Nt=new WeakMap,ue=Symbol(process.env.NODE_ENV!=="production"?"Object iterate":""),It=Symbol(process.env.NODE_ENV!=="production"?"Map keys iterate":""),Oe=Symbol(process.env.NODE_ENV!=="production"?"Array iterate":"");function D(e,t,n){if(j&&m){let r=Nt.get(e);r||Nt.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ie),s.map=r,s.key=n),process.env.NODE_ENV!=="production"?s.track({target:e,type:t,key:n}):s.track();}}function te(e,t,n,r,s,o){let i=Nt.get(e);if(!i){Ne++;return}let a=c=>{c&&(process.env.NODE_ENV!=="production"?c.trigger({target:e,type:t,key:n,newValue:r,oldValue:s,oldTarget:o}):c.trigger());};if(jt(),t==="clear")i.forEach(a);else {let c=q(e),l=c&&Ut(n);if(c&&n==="length"){let f=Number(r);i.forEach((u,v)=>{(v==="length"||v===Oe||!Ae(v)&&v>=f)&&a(u);});}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),l&&a(i.get(Oe)),t){case "add":c?l&&a(i.get("length")):(a(i.get(ue)),ve(e)&&a(i.get(It)));break;case "delete":c||(a(i.get(ue)),ve(e)&&a(i.get(It)));break;case "set":ve(e)&&a(i.get(ue));break}}Ht();}function me(e){let t=g(e);return t===e?t:(D(t,"iterate",Oe),H(e)?t:t.map(R))}function zt(e){return D(e=g(e),"iterate",Oe),e}var ws={__proto__:null,[Symbol.iterator](){return _t(this,Symbol.iterator,R)},concat(...e){return me(this).concat(...e.map(t=>q(t)?me(t):t))},entries(){return _t(this,"entries",e=>(e[1]=R(e[1]),e))},every(e,t){return J(this,"every",e,t,void 0,arguments)},filter(e,t){return J(this,"filter",e,t,n=>n.map(R),arguments)},find(e,t){return J(this,"find",e,t,R,arguments)},findIndex(e,t){return J(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return J(this,"findLast",e,t,R,arguments)},findLastIndex(e,t){return J(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return J(this,"forEach",e,t,void 0,arguments)},includes(...e){return xt(this,"includes",e)},indexOf(...e){return xt(this,"indexOf",e)},join(e){return me(this).join(e)},lastIndexOf(...e){return xt(this,"lastIndexOf",e)},map(e,t){return J(this,"map",e,t,void 0,arguments)},pop(){return ke(this,"pop")},push(...e){return ke(this,"push",e)},reduce(e,...t){return Dn(this,"reduce",e,t)},reduceRight(e,...t){return Dn(this,"reduceRight",e,t)},shift(){return ke(this,"shift")},some(e,t){return J(this,"some",e,t,void 0,arguments)},splice(...e){return ke(this,"splice",e)},toReversed(){return me(this).toReversed()},toSorted(e){return me(this).toSorted(e)},toSpliced(...e){return me(this).toSpliced(...e)},unshift(...e){return ke(this,"unshift",e)},values(){return _t(this,"values",R)}};function _t(e,t,n){let r=zt(e),s=r[t]();return r!==e&&!H(e)&&(s._next=s.next,s.next=()=>{let o=s._next();return o.value&&(o.value=n(o.value)),o}),s}var bs=Array.prototype;function J(e,t,n,r,s,o){let i=zt(e),a=i!==e&&!H(e),c=i[t];if(c!==bs[t]){let u=c.apply(e,o);return a?R(u):u}let l=n;i!==e&&(a?l=function(u,v){return n.call(this,R(u),v,e)}:n.length>2&&(l=function(u,v){return n.call(this,u,v,e)}));let f=c.call(i,l,r);return a&&s?s(f):f}function Dn(e,t,n,r){let s=zt(e),o=n;return s!==e&&(H(e)?n.length>3&&(o=function(i,a,c){return n.call(this,i,a,c,e)}):o=function(i,a,c){return n.call(this,i,R(a),c,e)}),s[t](o,...r)}function xt(e,t,n){let r=g(e);D(r,"iterate",Oe);let s=r[t](...n);return (s===-1||s===false)&&Ps(n[0])?(n[0]=g(n[0]),r[t](...n)):s}function ke(e,t,n=[]){Kt(),jt();let r=g(e)[t].apply(e,n);return Ht(),Gt(),r}var Ss=cs("__proto__,__v_isRef,__isVue"),Hn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ae));function Es(e){Ae(e)||(e=String(e));let t=g(this);return D(t,"has",e),t.hasOwnProperty(e)}var qe=class{constructor(t=false,n=false){this._isReadonly=t,this._isShallow=n;}get(t,n,r){let s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return !s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?Ns:Gn:o?Ds:Kn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;let i=q(t);if(!s){let c;if(i&&(c=ws[n]))return c;if(n==="hasOwnProperty")return Es}let a=Reflect.get(t,n,B(t)?t:r);return (Ae(n)?Hn.has(n):Ss(n))||(s||D(t,"get",n),o)?a:B(a)?i&&Ut(n)?a:a.value:ye(a)?s?zn(a):tt(a):a}},Ot=class extends qe{constructor(t=false){super(false,t);}set(t,n,r,s){let o=t[n];if(!this._isShallow){let c=le(o);if(!H(r)&&!le(r)&&(o=g(o),r=g(r)),!q(t)&&B(o)&&!B(r))return c?false:(o.value=r,true)}let i=q(t)&&Ut(n)?Number(n)<t.length:Ct(t,n),a=Reflect.set(t,n,r,B(t)?t:s);return t===g(s)&&(i?re(r,o)&&te(t,"set",n,r,o):te(t,"add",n,r)),a}deleteProperty(t,n){let r=Ct(t,n),s=t[n],o=Reflect.deleteProperty(t,n);return o&&r&&te(t,"delete",n,void 0,s),o}has(t,n){let r=Reflect.has(t,n);return (!Ae(n)||!Hn.has(n))&&D(t,"has",n),r}ownKeys(t){return D(t,"iterate",q(t)?"length":ue),Reflect.ownKeys(t)}},Pt=class extends qe{constructor(t=false){super(true,t);}set(t,n){return process.env.NODE_ENV!=="production"&&K(`Set operation on key "${String(n)}" failed: target is readonly.`,t),true}deleteProperty(t,n){return process.env.NODE_ENV!=="production"&&K(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),true}},_s=new Ot,xs=new Pt;var Be=e=>Reflect.getPrototypeOf(e);function Cs(e,t,n){return function(...r){let s=this.__v_raw,o=g(s),i=ve(o),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,l=s[e](...r),f=t?Mt:R;return !t&&D(o,"iterate",c?It:ue),{next(){let{value:u,done:v}=l.next();return v?{value:u,done:v}:{value:a?[f(u[0]),f(u[1])]:f(u),done:v}},[Symbol.iterator](){return this}}}}function Ke(e){return function(...t){if(process.env.NODE_ENV!=="production"){let n=t[0]?`on key "${t[0]}" `:"";K(`${vs(e)} operation ${n}failed: target is readonly.`,g(this));}return e==="delete"?false:e==="clear"?void 0:this}}function ks(e,t){let n={get(s){let o=this.__v_raw,i=g(o),a=g(s);e||(re(s,a)&&D(i,"get",s),D(i,"get",a));let{has:c}=Be(i),l=e?Mt:R;if(c.call(i,s))return l(o.get(s));if(c.call(i,a))return l(o.get(a));o!==i&&o.get(s);},get size(){let s=this.__v_raw;return !e&&D(g(s),"iterate",ue),Reflect.get(s,"size",s)},has(s){let o=this.__v_raw,i=g(o),a=g(s);return e||(re(s,a)&&D(i,"has",s),D(i,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){let i=this,a=i.__v_raw,c=g(a),l=e?Mt:R;return !e&&D(c,"iterate",ue),a.forEach((f,u)=>s.call(o,l(f),l(u),i))}};return Ye(n,e?{add:Ke("add"),set:Ke("set"),delete:Ke("delete"),clear:Ke("clear")}:{add(s){!H(s)&&!le(s)&&(s=g(s));let o=g(this);return Be(o).has.call(o,s)||(o.add(s),te(o,"add",s,s)),this},set(s,o){!H(o)&&!le(o)&&(o=g(o));let i=g(this),{has:a,get:c}=Be(i),l=a.call(i,s);l?process.env.NODE_ENV!=="production"&&Nn(i,a,s):(s=g(s),l=a.call(i,s));let f=c.call(i,s);return i.set(s,o),l?re(o,f)&&te(i,"set",s,o,f):te(i,"add",s,o),this},delete(s){let o=g(this),{has:i,get:a}=Be(o),c=i.call(o,s);c?process.env.NODE_ENV!=="production"&&Nn(o,i,s):(s=g(s),c=i.call(o,s));let l=a?a.call(o,s):void 0,f=o.delete(s);return c&&te(o,"delete",s,void 0,l),f},clear(){let s=g(this),o=s.size!==0,i=process.env.NODE_ENV!=="production"?ve(s)?new Map(s):new Set(s):void 0,a=s.clear();return o&&te(s,"clear",void 0,void 0,i),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Cs(s,e);}),n}function Bn(e,t){let n=ks(e);return (r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Ct(n,s)&&s in r?n:r,s,o)}var Ts={get:Bn(false)};var Rs={get:Bn(true)};function Nn(e,t,n){let r=g(n);if(r!==n&&t.call(e,r)){let s=Pn(e);K(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`);}}var Kn=new WeakMap,Ds=new WeakMap,Gn=new WeakMap,Ns=new WeakMap;function Is(e){switch(e){case "Object":case "Array":return 1;case "Map":case "Set":case "WeakMap":case "WeakSet":return 2;default:return 0}}function Os(e){return e.__v_skip||!Object.isExtensible(e)?0:Is(Pn(e))}function tt(e){return le(e)?e:Jn(e,false,_s,Ts,Kn)}function zn(e){return Jn(e,true,xs,Rs,Gn)}function Jn(e,t,n,r,s){if(!ye(e))return process.env.NODE_ENV!=="production"&&K(`value cannot be made ${t?"readonly":"reactive"}: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;let o=s.get(e);if(o)return o;let i=Os(e);if(i===0)return e;let a=new Proxy(e,i===2?r:n);return s.set(e,a),a}function le(e){return !!(e&&e.__v_isReadonly)}function H(e){return !!(e&&e.__v_isShallow)}function Ps(e){return e?!!e.__v_raw:false}function g(e){let t=e&&e.__v_raw;return t?g(t):e}var R=e=>ye(e)?tt(e):e,Mt=e=>ye(e)?zn(e):e;function B(e){return e?e.__v_isRef===true:false}function S(e){return qn(e,true)}function qn(e,t){return B(e)?e:new $t(e,t)}var $t=class{constructor(t,n){this.dep=new Ie,this.__v_isRef=true,this.__v_isShallow=false,this._rawValue=n?t:g(t),this._value=n?t:R(t),this.__v_isShallow=n;}get value(){return process.env.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track(),this._value}set value(t){let n=this._rawValue,r=this.__v_isShallow||H(t)||le(t);t=r?t:g(t),re(t,n)&&(this._rawValue=t,this._value=r?t:R(t),process.env.NODE_ENV!=="production"?this.dep.trigger({target:this,type:"set",key:"value",newValue:t,oldValue:n}):this.dep.trigger());}};var Lt=class{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ie(this),this.__v_isRef=true,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ne-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r;}notify(){if(this.flags|=16,!(this.flags&8)&&m!==this)return Ln(this,true),true;process.env.NODE_ENV;}get value(){let t=process.env.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track();return Vn(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter?this.setter(t):process.env.NODE_ENV!=="production"&&K("Write operation failed: computed value is readonly");}};function W(e,t,n=false){let r,s;Q(e)?r=e:(r=e.get,s=e.set);let o=new Lt(r,s,n);return process.env.NODE_ENV!=="production"&&t,o}var Ft=(e=>(e.ACTIVATED="a",e.DEACTIVATED="da",e))(Ft||{}),Jt=(e=>(e[e.WATCH_GETTER=0]="WATCH_GETTER",e[e.WATCH_CALLBACK=1]="WATCH_CALLBACK",e[e.WATCH_CLEANUP=2]="WATCH_CLEANUP",e[e.APP_ERROR_HANDLER=3]="APP_ERROR_HANDLER",e[e.SCHEDULER=4]="SCHEDULER",e))(Jt||{});({[Ft.ACTIVATED]:"activated hook",[Ft.DEACTIVATED]:"deactivated hook"});var Wt=(e=>(e[e.QUEUED=1]="QUEUED",e[e.PRE=2]="PRE",e[e.ALLOW_RECURSE=4]="ALLOW_RECURSE",e[e.DISPOSED=8]="DISPOSED",e))(Wt||{});Promise.resolve();var Js=[];var Xt=S(null),Zt=An();function ir(e){return {activate:t=>(Xt.value=t,Zt.run(()=>(ar.map(n=>n(t)),e()))),deactivate:()=>{Js.map(t=>t()),Zt.stop();}}}var ar=[];function Ys(e){Xt.value?e(Xt.value):ar.push(e);}function qs(e,t,n){let s=vscode.workspace.getConfiguration(e,n);function o(a,c){let l=S(c),f=W({get:()=>l.value,set:u=>{l.value=u,s.update(a,u);}});return f.update=async(u,v,oe)=>{await s.update(a,u,v,oe),f.value=u;},f.set=u=>{l.value=u;},f}let i=Object.fromEntries(Object.keys(t).map(a=>[a,o(a,s.get(a))]));return Ys(()=>{y(vscode.workspace.onDidChangeConfiguration(a=>{if(!a.affectsConfiguration(e))return;let c=vscode.workspace.getConfiguration(e);for(let l in t)a.affectsConfiguration(`${e}.${l}`)&&i[l].set(c.get(l));}));}),i}function cr(e,t,n){let r=qs(e,t,n);return tt({...r,$update(s,o,i,a){return r[s].update(o,i,a)},$set(s,o){return r[s].set(o)}})}function y(e){return (et()??Zt).cleanups.push(e.dispose.bind(e)),e}function en(e,t){y(vscode.commands.registerCommand(e,t));}var V="custom-ui-style";var fr="Custom UI Style";var tn={reload:"custom-ui-style.reload",rollback:"custom-ui-style.rollback"};var nn={scope:"custom-ui-style",defaults:{preferRestart:false,reloadWithoutPrompting:false,watch:true,electron:{},"font.monospace":void 0,"font.sansSerif":void 0,"background.url":void 0,"background.syncURL":void 0,"background.opacity":.9,"background.size":"cover","background.position":"center","external.loadStrategy":"refetch","external.imports":void 0,stylesheet:{},"webview.enable":true,"webview.removeCSP":true,"webview.monospaceSelector":void 0,"webview.sansSerifSelector":void 0,"webview.stylesheet":{}}};var h=cr(nn.scope,nn.defaults),st="editor.fontFamily";function be(){return {monospace:h["font.monospace"]||vscode.workspace.getConfiguration().inspect(st).globalValue,sansSerif:h["font.sansSerif"]}}var X=(e,t)=>function(...r){return e.apply(void 0,r).catch(t)},z=(e,t)=>function(...r){try{return e.apply(void 0,r)}catch(s){return t(s)}};var pr=Se__default.default.getuid?!Se__default.default.getuid():false,hr=1e4,N=()=>{};var $e={isChangeErrorOk:e=>{if(!$e.isNodeError(e))return  false;let{code:t}=e;return t==="ENOSYS"||!pr&&(t==="EINVAL"||t==="EPERM")},isNodeError:e=>e instanceof Error,isRetriableError:e=>{if(!$e.isNodeError(e))return  false;let{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCES"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!$e.isNodeError(e))throw e;if(!$e.isChangeErrorOk(e))throw e}},w=$e;var rn=class{constructor(){this.interval=25,this.intervalId=void 0,this.limit=hr,this.queueActive=new Set,this.queueWaiting=new Set,this.init=()=>{this.intervalId||(this.intervalId=setInterval(this.tick,this.interval));},this.reset=()=>{this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId);},this.add=t=>{this.queueWaiting.add(t),this.queueActive.size<this.limit/2?this.tick():this.init();},this.remove=t=>{this.queueWaiting.delete(t),this.queueActive.delete(t);},this.schedule=()=>new Promise(t=>{let n=()=>this.remove(r),r=()=>t(n);this.add(r);}),this.tick=()=>{if(!(this.queueActive.size>=this.limit)){if(!this.queueWaiting.size)return this.reset();for(let t of this.queueWaiting){if(this.queueActive.size>=this.limit)break;this.queueWaiting.delete(t),this.queueActive.add(t),t();}}};}},mr=new rn;var Z=(e,t)=>function(r){return function s(...o){return mr.schedule().then(i=>{let a=l=>(i(),l),c=l=>{if(i(),Date.now()>=r)throw l;if(t(l)){let f=Math.round(100*Math.random());return new Promise(v=>setTimeout(v,f)).then(()=>s.apply(void 0,o))}throw l};return e.apply(void 0,o).then(a,c)})}},ee=(e,t)=>function(r){return function s(...o){try{return e.apply(void 0,o)}catch(i){if(Date.now()>r)throw i;if(t(i))return s.apply(void 0,o);throw i}}};var no={attempt:{chmod:X(util.promisify(d__default.default.chmod),w.onChangeError),chown:X(util.promisify(d__default.default.chown),w.onChangeError),close:X(util.promisify(d__default.default.close),N),fsync:X(util.promisify(d__default.default.fsync),N),mkdir:X(util.promisify(d__default.default.mkdir),N),realpath:X(util.promisify(d__default.default.realpath),N),stat:X(util.promisify(d__default.default.stat),N),unlink:X(util.promisify(d__default.default.unlink),N),chmodSync:z(d__default.default.chmodSync,w.onChangeError),chownSync:z(d__default.default.chownSync,w.onChangeError),closeSync:z(d__default.default.closeSync,N),existsSync:z(d__default.default.existsSync,N),fsyncSync:z(d__default.default.fsync,N),mkdirSync:z(d__default.default.mkdirSync,N),realpathSync:z(d__default.default.realpathSync,N),statSync:z(d__default.default.statSync,N),unlinkSync:z(d__default.default.unlinkSync,N)},retry:{close:Z(util.promisify(d__default.default.close),w.isRetriableError),fsync:Z(util.promisify(d__default.default.fsync),w.isRetriableError),open:Z(util.promisify(d__default.default.open),w.isRetriableError),readFile:Z(util.promisify(d__default.default.readFile),w.isRetriableError),rename:Z(util.promisify(d__default.default.rename),w.isRetriableError),stat:Z(util.promisify(d__default.default.stat),w.isRetriableError),write:Z(util.promisify(d__default.default.write),w.isRetriableError),writeFile:Z(util.promisify(d__default.default.writeFile),w.isRetriableError),closeSync:ee(d__default.default.closeSync,w.isRetriableError),fsyncSync:ee(d__default.default.fsyncSync,w.isRetriableError),openSync:ee(d__default.default.openSync,w.isRetriableError),readFileSync:ee(d__default.default.readFileSync,w.isRetriableError),renameSync:ee(d__default.default.renameSync,w.isRetriableError),statSync:ee(d__default.default.statSync,w.isRetriableError),writeSync:ee(d__default.default.writeSync,w.isRetriableError),writeFileSync:ee(d__default.default.writeFileSync,w.isRetriableError)}},_=no;var vr="utf8",on=438,yr=511,wr={},br={},Sr=gr__default.default.userInfo().uid,Er=gr__default.default.userInfo().gid;var an=1e3,_r=!!Se__default.default.getuid;Se__default.default.getuid?!Se__default.default.getuid():false;var cn=128;var xr=e=>e instanceof Error&&"code"in e;var ot=e=>typeof e=="string",it=e=>e===void 0;var kr=Se__default.default.platform==="linux",at=Se__default.default.platform==="win32";var un=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];at||un.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");kr&&un.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED");var Tr=un;var ln=class{constructor(){this.callbacks=new Set,this.exited=false,this.exit=t=>{if(!this.exited){this.exited=true;for(let n of this.callbacks)n();t&&(at&&t!=="SIGINT"&&t!=="SIGTERM"&&t!=="SIGKILL"?Se__default.default.kill(Se__default.default.pid,"SIGTERM"):Se__default.default.kill(Se__default.default.pid,t));}},this.hook=()=>{Se__default.default.once("exit",()=>this.exit());for(let t of Tr)try{Se__default.default.once(t,()=>this.exit(t));}catch{}},this.register=t=>(this.callbacks.add(t),()=>{this.callbacks.delete(t);}),this.hook();}},Rr=new ln;var ro=Rr.register,Dr=ro;var A={store:{},create:e=>{let t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${t}`;return `${e}${s}`},get:(e,t,n=true)=>{let r=A.truncate(t(e));return r in A.store?A.get(e,t,n):(A.store[r]=n,[r,()=>delete A.store[r]])},purge:e=>{A.store[e]&&(delete A.store[e],_.attempt.unlink(e));},purgeSync:e=>{A.store[e]&&(delete A.store[e],_.attempt.unlinkSync(e));},purgeSyncAll:()=>{for(let e in A.store)A.purgeSync(e);},truncate:e=>{let t=de__default.default.basename(e);if(t.length<=cn)return e;let n=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!n)return e;let r=t.length-cn;return `${e.slice(0,-t.length)}${n[1]}${n[2].slice(0,-r)}${n[3]}`}};Dr(A.purgeSyncAll);var Le=A;function M(e,t=wr){if(ot(t))return M(e,{encoding:t});let n=Date.now()+((t.timeout??an)||-1);return _.retry.readFileSync(n)(e,t)}function I(e,t,n=br){if(ot(n))return I(e,t,{encoding:n});let r=Date.now()+((n.timeout??an)||-1),s=null,o=null,i=null;try{let a=_.attempt.realpathSync(e),c=!!a;e=a||e,[o,s]=Le.get(e,n.tmpCreate||Le.create,n.tmpPurge!==!1);let l=_r&&it(n.chown),f=it(n.mode);if(c&&(l||f)){let u=_.attempt.statSync(e);u&&(n={...n},l&&(n.chown={uid:u.uid,gid:u.gid}),f&&(n.mode=u.mode));}if(!c){let u=de__default.default.dirname(e);_.attempt.mkdirSync(u,{mode:yr,recursive:!0});}i=_.retry.openSync(r)(o,"w",n.mode||on),n.tmpCreated&&n.tmpCreated(o),ot(t)?_.retry.writeSync(r)(i,t,0,n.encoding||vr):it(t)||_.retry.writeSync(r)(i,t,0,t.length,0),n.fsync!==!1&&(n.fsyncWait!==!1?_.retry.fsyncSync(r)(i):_.attempt.fsync(i)),_.retry.closeSync(r)(i),i=null,n.chown&&(n.chown.uid!==Sr||n.chown.gid!==Er)&&_.attempt.chownSync(o,n.chown.uid,n.chown.gid),n.mode&&n.mode!==on&&_.attempt.chmodSync(o,n.mode);try{_.retry.renameSync(r)(o,e);}catch(u){if(!xr(u)||u.code!=="ENAMETOOLONG")throw u;_.retry.renameSync(r)(o,Le.truncate(e));}s(),o=null;}finally{i&&_.attempt.closeSync(i),o&&Le.purge(o);}}var $=y(vscode.window.createOutputChannel(fr));function fn(e){return (...t)=>{$.appendLine(`[${e}] ${t.join(" ")}`);}}var b={info:fn("INFO"),warn:fn("WARN"),error:fn("ERROR"),append:$.append.bind($),appendLine:$.appendLine.bind($),replace:$.replace.bind($),clear:$.clear.bind($),show:$.show.bind($),hide:$.hide.bind($)};function co(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t===-1?"":e.substring(0,t)}var L=(()=>{let e=vscode.env.appRoot;if(e&&d__default.default.existsSync(e))return k__default.default.join(e,"out");let t=Tn.main?.filename.replace(/\\/g,"/");if(!t){let n="Cannot determine main file name";throw O(n),new Error(n)}return co(t)})();function Ir(e){return k__default.default.join(L,"vs","workbench","contrib","webview","browser","pre",`index.${e}`)}var Or=Ir("html"),Pr=Ir(`${V}.html`);function ut(e,t){let n=t?`${t}.${e}`:e;return k__default.default.join(L,"vs","workbench",vscode.env.appHost==="desktop"?`workbench.desktop.main.${n}`:`workbench.web.main.${n}`)}var Ar=ut("css"),Mr=ut("css",V),$r=ut("js"),Lr=ut("js",V);function Fr(e,t){let n=t?`${t}.${e}`:e,r=k__default.default.join(L,"vs","code","electron-main",`main.${n}`);return d__default.default.existsSync(r)?r:k__default.default.join(L,`main.${n}`)}var Wr=Fr("js"),Vr=Fr("js",V);function Ur(e,t){let n=t?`${t}.${e}`:e;return k__default.default.join(k__default.default.dirname(L),`product.${n}`)}var lt=Ur("json"),jr=Ur("json",`${vscode.version}.${V}`),Fe=(()=>{let e=k__default.default.join(L,"vs","code","electron-sandbox");return d__default.default.existsSync(e)?k__default.default.join(e,"workbench"):k__default.default.join(k__default.default.dirname(e),"electron-browser","workbench")})(),ft=(()=>{let e=["workbench","workbench-dev","workbench.esm","workbench-dev.esm"];for(let t of e){let n=k__default.default.join(Fe,`${t}.html`);if(d__default.default.existsSync(n))return n}return ""})(),Hr=ft.replace(".html",`.${V}.html`),dn="external.css",pn="external.js",hn="external.module.js",mn=k__default.default.join(Fe,dn),gn=k__default.default.join(Fe,pn),vn=k__default.default.join(Fe,hn),dt=k__default.default.join(Fe,"external.cache.json");async function Kr(){let e;switch(process.platform){case "darwin":e=await uo();break;case "win32":e=await lo();break;default:e=await fo();}e.unref();}function wn(...e){for(let t of e){if(!d__default.default.existsSync(t))continue;let n=d__default.default.readdirSync(t).filter(r=>!r.includes("-tunnel"));if(process.platform==="win32"){if(n=n.filter(r=>r.endsWith(".cmd")),n.length>0)return de__default.default.join(t,n[0])}else if(n.length>0)return de__default.default.join(t,n[0])}throw new Error(`Cannot find binary path in [${e}]`)}async function uo(){let{nameLong:e}=JSON.parse(M(lt,"utf-8")),t=/(.*\.app)\/Contents\/Frameworks\//.exec(process.execPath),n=t?t[1]:`/Applications/${e}.app`,r=wn(`${n}/Contents/Resources/app/bin/`);return child_process.spawn("osascript",["-e",`quit app "${e}"`,"-e","repeat with i from 1 to 100","-e",`if not (application "${e}" is running) then exit repeat`,"-e","delay 0.1","-e","end repeat","-e",`do shell script quoted form of "${r}"`],{detached:true,stdio:"ignore"})}async function lo(){let e=de__default.default.dirname(process.execPath),t=de__default.default.basename(process.execPath,".exe"),n=wn(`${e}\\bin\\`,`${de__default.default.dirname(L)}\\bin\\`),r=["for ($i = 0; $i -lt 100; $i++) {",`    $vscodeProcess = Get-Process '${t}' -ErrorAction SilentlyContinue;`,"    if ($vscodeProcess -eq $null) {","        exit","    }","    Start-Sleep -Milliseconds 100","}"].join(""),s=`taskkill /F /IM "${t}.exe" >nul && powershell -Command "${r}" && "${n}"`;return child_process.spawn(process.env.comspec??"cmd",[`/C ${s}`],{detached:true,stdio:"ignore",windowsVerbatimArguments:true})}async function fo(){let e=de__default.default.dirname(process.execPath),t=wn(`${e}/bin/`),n=de__default.default.basename(process.execPath);return child_process.spawn("/bin/sh",["-c",`
      pkill -f "${n}"
      counter=0
      while pgrep -f "${n}" > /dev/null && [ $counter -lt 100 ]; do
        sleep 0.1
        counter=$((counter + 1))
      done
      "${t}"
      `],{detached:true,stdio:"ignore"})}var Ee="file://",pt="https://",We=k__default.default.join(L,`__${V}__.lock`),Gr=Jr();function Jr(){return JSON.stringify(h.electron)}function vo(e){let t=Jr();if(Gr!==t){if(e)return;let n=process.platform==="darwin"?'Press "Command + Q"':"Close all windows";U(`Note: Please TOTALLY restart VSCode (${n}) to take effect, "custom-ui-style.electron" is changed`);}Gr=t;}async function Sn(e,t,n){let r=5,s=()=>d__default.default.existsSync(We);for(;s()&&r--;)b.warn("Lock file detected, waiting..."),await new Promise(i=>setTimeout(i,1e3));if(!r)if(s()&&Number(M(We,"utf-8"))-Date.now()>6e5)b.warn("Lock file timeout, remove and continue"),d__default.default.rmSync(We);else {O("File locked, please retry later");return}let o=true;try{I(We,String(Date.now()));}catch(i){if(i instanceof Error){let a="This extension need to modify VSCode's source code but";if("code"in i&&i.code==="EROFS"){O(`${a} it runs on read-only filesystem. Maybe you need to choose another way to install VSCode`,i);return}else if(i.message.includes("Maximum call stack size exceeded")){O(`${a} current user is not allowed. Please run "sudo chown -R $(whoami) '${k__default.default.dirname(L)}'" to grant permissions`,i);return}}O("Unknown error in npm:atomically",i);return}try{vo(t),await n();}catch(i){O("Fail to execute action",i),o=false;}finally{try{d__default.default.rmSync(We);}catch{}}if(o){let i=false;if(h.reloadWithoutPrompting)i=true;else {let a=await U(e,t?"Restart APP":"Reload Window","Cancel");i=a==="Reload Window"||a==="Restart APP";}if(i)if(t)try{await Kr();}catch(a){O("Fail to restart VSCode",a);}else vscode.commands.executeCommand("workbench.action.reloadWindow");}}function O(e,t){if(t instanceof Error){let n=`${e}, ${t}`;b.error(n),U(n);}else t?(b.error(e,t),U(`${e}, Error: ${t}`)):(b.error(e),U(`Error: ${e}`));b.show();}function _e(e){b.warn(e),U(e);}async function U(e,...t){try{return await vscode.window.showInformationMessage(e,...t)}catch(n){O("VSCode error",n);}}function xe(e){return e.replaceAll("'","\\'").replaceAll('"','\\"')}function Yr(e,t){let n;return (...r)=>{clearTimeout(n),n=setTimeout(()=>e(...r),t);}}function ht(e){function t(r,s=""){for(let[o,i]of Object.entries(r))switch(typeof i){case "string":case "number":s+=`${o}:${i};`;break;case "object":i&&(s+=`${o}{${t(i)}}`);break}return s}let n="";for(let[r,s]of Object.entries(e)){let o="";switch(typeof s){case "string":o=s;break;case "object":o=t(s);break;default:continue}n+=`${r}{${o}}`;}return n}function qr(e){return e.startsWith("file://")?ho__default.default.fileURLToPath(En(e)):e}var yo=/\$\{([^{}]+)\}/g;function En(e){return e.replace(yo,(t,n)=>{if(n==="userHome")return gr__default.default.homedir();if(n.startsWith("env:")){let[r,s,o]=n.split(":");return process.env[s]??o??""}else return t})}var P=class{constructor(t,n){this.srcPath=t;this.bakPath=n;}get hasBakFile(){return d__default.default.existsSync(this.bakPath)}skipAll;async reload(){await this.skipable(async()=>{this.hasBakFile||(b.warn(`Backup file [${this.bakPath}] does not exist, backuping...`),d__default.default.cpSync(this.srcPath,this.bakPath),b.info(`Create backup file [${this.bakPath}]`));let t=await this.patch(M(this.bakPath,"utf-8"));I(this.srcPath,t),b.info(`Config reload [${this.srcPath}]`);});}async rollback(){await this.skipable(()=>{this.hasBakFile?(I(this.srcPath,M(this.bakPath,"utf-8")),b.info(`Config rollback [${this.srcPath}]`)):b.warn(`Backup file [${this.bakPath}] does not exist, skip rollback`);});}async skipable(t){let n=await this.skipAll?.();n?_e(n):await t();}};var _n={win:"Consolas, 'Courier New'",mac:"Menlo, Monaco, 'Courier New'",linux:"'Droid Sans Mono', 'monospace'"},pe={win:'"Segoe WPC", "Segoe UI"',mac:"-apple-system, BlinkMacSystemFont",linux:'system-ui, "Ubuntu", "Droid Sans"'},xn='"SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace',mt=class extends P{constructor(){super($r,Lr);}patch(t){let{monospace:n,sansSerif:r}=be();return n&&(n=xe(n),t=t.replaceAll(_n.win,n).replaceAll(_n.mac,n).replaceAll(_n.linux,n).replaceAll(xn,n)),r&&(r=xe(r),t=t.replaceAll(pe.win,r).replaceAll(pe.mac,r).replaceAll(pe.linux,r)),t}};function bo(e){return e=e.replace(/\\/g,"/"),e.startsWith(Ee)?vscode.Uri.parse(e.replace(Ee,"vscode-file://vscode-app")).toString():e}function So(){let e=h["background.url"]||En(h["background.syncURL"]||"");return e?`
body:has(div[role=application]) {
  background-size: ${h["background.size"]};
  background-repeat: no-repeat;
  background-attachment: fixed; /* for code-server */
  background-position: ${h["background.position"]};
  opacity: ${h["background.opacity"]};
  background-image: url('${bo(e)}');
}`:""}function Eo(){let e="",{monospace:t,sansSerif:n}=be();return t&&(e+=`
body {
  --cus-monospace-font: ${t}, ${xn};
}
span.monaco-keybinding-key,
.setting-list-row,
kbd {
  font-family: var(--cus-monospace-font) !important;
}
.windows,
.mac,
.linux {
  --monaco-monospace-font: var(--cus-monospace-font) !important;
}`),n&&(e+=`
body {
  --cus-sans-font: ${n};
}
.windows {
  font-family: var(--cus-sans-font), ${pe.win} !important;
}
.mac {
  font-family: var(--cus-sans-font), ${pe.mac} !important;
}
.linux {
  font-family: var(--cus-sans-font), ${pe.linux} !important;
}`),e}var gt=class extends P{constructor(){super(Ar,Mr);}patch(t){return `${t}
/* Custom UI Style Start */
${So()}
${Eo()}
${ht(h.stylesheet)}
/* Custom UI Style End */
`}};var xo="/* EMPTY EXTERNAL CSS */",Co="// EMPTY EXTERNAL JS",ko="// EMPTY EXTERNAL JS MODULE",Xr=false;async function To(e){!Xr&&e.some(n=>typeof n=="object"&&n.type.startsWith(".js")||typeof n=="string"&&n.startsWith("http")&&n.endsWith(".js"))&&(U("Loading remote JS script, be care of its source code!"),Xr=true);let t=[];for(let n of e){let r=await ns(n);r&&t.push(r);}return t}var Ro=/[^\x20-\x7F]/g;function Do(e){return (e.match(Ro)||[]).length/e.length>.5}var No="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36";async function ns(e){let t;if(typeof e=="string"){if(e.endsWith(".css"))t="css";else if(e.endsWith(".js"))t="js-module";else {_e(`Unsupported extension: [${e}]. Must be '.css' or '.js'`);return}if(e.startsWith(pt))return await ns({type:t,url:e});if(!e.startsWith(Ee)){_e(`[${e}] must startsWith '${Ee}'`);return}return await Zr(t,qr(e),n=>M(n,"utf-8"))}else {if(!e.url.startsWith(pt)){_e(`[${e.url}] must startsWith '${pt}'`);return}return await Zr(e.type,new URL(e.url).toString(),Io)}}async function Io(e,t){let r=await(await fetch(e,{headers:{"User-Agent":No}})).text();if(!Do(r))return r;let s=`The content of ${e} may be garbled`;return b.warn(`${s}
${r}`),await U(`${s}: ${r.substring(0,100)}`,"Skip And Show Details","Apply at my own risk")==="Apply at my own risk"?(b.warn(`Apply ${e}`),r):(b.show(),t==="css"?`/* ${s}, skip */`:`// ${s}, skip`)}async function Zr(e,t,n){return [e,t,async()=>{try{return await n(t,e)}catch(r){O(`Fail to get content of [${t}]`,r);return}}]}async function Oo(e,t){if(t){let s={hasFailed:true,urls:[]};try{t&&d__default.default.existsSync(dt)&&(s=JSON.parse(M(dt,"utf-8")));}catch(i){O("Failed to read cache file",i);}let o=new Set(e.map(([i,a])=>`${i}:${a}`));if(!s.hasFailed&&o.size===s.urls.length&&[...o].every(i=>s.urls.includes(i))){b.info("No changes detected and no failed fetches, using cached content");return}}let n={css:[],js:[],"js-module":[]},r;t&&(r={hasFailed:false,urls:[]});for(let[s,o,i]of e){let a=await i();t&&(r.urls.push(`${s}:${o}`),!r.hasFailed&&!a&&(r.hasFailed=true)),a&&n[s].push({url:o,content:a});}if(t)try{I(dt,JSON.stringify(r,null,2),"utf-8");}catch(s){O("Failed to write cache file",s);}try{let s=`

`;I(mn,n.css.length>0?n.css.map(o=>`/* ${o.url} */
${o.content}`).join(s):xo,"utf-8"),I(gn,n.js.length>0?n.js.map(o=>`// ${o.url}
${o.content}`).join(s):Co,"utf-8"),I(vn,n["js-module"].length>0?n["js-module"].map(o=>`// ${o.url}
${o.content}`).join(s):ko,"utf-8");}catch(s){O("Failed to write external files",s);}}var es='<script src="./workbench.js" type="module"></script>',ts='<link rel="stylesheet" href="../../../workbench/workbench.desktop.main.css">',vt=class extends P{constructor(){super(ft,Hr),ft||(this.skipAll=()=>"No workbench html found, external resouces are disabled");}async patch(t){let n=h["external.loadStrategy"];return n==="disable"?(I(mn,void 0),I(gn,void 0),I(vn,void 0),t):(await Oo(await To(h["external.imports"]||[]),n==="cache"),t.replace(es,`${es}
	<!-- External Script Start -->
	<script src="./${pn}"></script>
	<script src="./${hn}" type="module"></script>
	<!-- External Script End -->
`).replace(ts,`<!-- External Style Start -->
		<link rel="stylesheet" href="./${dn}"></link>
		<!-- External Style End -->
		${ts}`))}};function Mo(e){return crypto.createHash("sha256").update(M(e)).digest("base64").replace(/=+$/,"")}var yt=class extends P{constructor(){super(lt,jr);}patch(t){let n=JSON.parse(t);for(let[r,s]of Object.entries(n.checksums)){let o=Mo(de__default.default.join(L,r));o!==s&&(n.checksums[r]=o);}return JSON.stringify(n,null,"	")}};var rs="experimentalDarkMode:!0",$o=/setBackgroundColor\([\w.]+\);/g,wt=class extends P{constructor(){super(Wr,Vr);}patch(t){let n=t.replaceAll(rs,`${rs},${JSON.stringify(h.electron).slice(1,-1)}`);return "backgroundColor"in h.electron&&(n=n.replace($o,`setBackgroundColor("${h.electron.backgroundColor}");`)),n}};var ss="blockquote {",Fo=[".font-mono","code","pre",".mono",".monospace","kbd"],Wo=[".font-sans",".github-markdown-body"];function Vo(){let{monospace:e,sansSerif:t}=be(),n="";if(e){let r=[...Fo,...h["webview.monospaceSelector"]||[]];n+=`${r}{font-family:${xe(e)}!important}`;}if(t){let r=[...Wo,...h["webview.sansSerifSelector"]||[]];n+=`${r}{font-family:${xe(t)}!important}`;}return h["webview.stylesheet"]&&(n+=ht(h["webview.stylesheet"])),n}function Uo(e,t){if(t)return e.replace('meta http-equiv="Content-Security-Policy"','meta http-equiv=""');let[,n]=e.match(/<script async=?"{0,2} type="module">([\s\S]*?)<\/script>/)||[];if(!n)return e;let r=crypto.createHash("sha256").update(n).digest("base64");return b.info("update script sha256",r),e.replace(/'sha256-[^']*'/,`'sha256-${r}'`)}var bt=class extends P{constructor(){super(Or,Pr);}patch(t){return h["webview.enable"]?Uo(t.replace(ss,`${Vo()}

			${ss}`),h["webview.removeCSP"]):t}};var os=(()=>{let e=vscode.version.split(".").map(Number);return e[0]===1&&e[1]>=95})();function is(){let e=[new gt,new wt,new mt,new vt,new bt,new yt];return {hasBakFile:()=>e.every(t=>t.hasBakFile),reload:async t=>{await Sn(t,os||h.preferRestart,async()=>{for(let n of e)await n.reload();});},rollback:async t=>{await Sn(t,os||h.preferRestart,()=>Promise.all(e.map(n=>n.rollback())));}}}var Cn="UI Style changed.",Ho="UI Style rollback.",{activate:Kc,deactivate:Gc}=ir(()=>{let{hasBakFile:e,reload:t,rollback:n}=is();e()||U("Seems like first time use or new version is installed, initialize and reload config now?","Yes","No").then(s=>s==="Yes"&&t(Cn)),en(tn.reload,()=>t(Cn)),en(tn.rollback,()=>n(Ho));let r=()=>U("Configuration changed, apply now?","Yes","No").then(s=>s==="Yes"&&t(Cn));y(vscode.workspace.onDidChangeConfiguration(Yr(s=>{if(h.watch){if(s.affectsConfiguration(V))r();else if(s.affectsConfiguration(st)&&!h["font.monospace"]){let{globalValue:o,workspaceValue:i}=vscode.workspace.getConfiguration().inspect(st);o===i&&r();}}},1e3)));});exports.activate=Kc;exports.deactivate=Gc;