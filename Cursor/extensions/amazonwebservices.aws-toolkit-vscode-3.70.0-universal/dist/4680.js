"use strict";exports.id=4680,exports.ids=[4680],exports.modules={34680:(ut,me,a)=>{a.d(me,{GetRoleCredentialsCommand:()=>Te,SSOClient:()=>at});var F=a(34546),pe=a(8029),n=a(93980);const ye=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),fe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class m extends n.TJ{constructor(t){super(t),Object.setPrototypeOf(this,m.prototype)}}class w extends m{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,w.prototype)}}class T extends m{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,T.prototype)}}class O extends m{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,O.prototype)}}class L extends m{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,L.prototype)}}const ge=e=>({...e,...e.accessToken&&{accessToken:n.$H}}),Se=e=>({...e,...e.secretAccessKey&&{secretAccessKey:n.$H},...e.sessionToken&&{sessionToken:n.$H}}),ve=e=>({...e,...e.roleCredentials&&{roleCredentials:Se(e.roleCredentials)}}),ht=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),mt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),pt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}});var N=a(81830),g=a(25158);const be=async(e,t)=>{const s=(0,g.lI)(e,t),o=(0,n.Tj)({},x,{[A]:e[R]});s.bp("/federation/credentials");const r=(0,n.Tj)({[we]:[,(0,n.Y0)(e[Ie],"roleName")],[B]:[,(0,n.Y0)(e[z],"accountId")]});let i;return s.m("GET").h(o).q(r).b(i),s.build()},yt=async(e,t)=>{const s=rb(e,t),o=map({},x,{[A]:e[R]});s.bp("/assignment/roles");const r=map({[H]:[,e[G]],[M]:[()=>e.maxResults!==void 0,()=>e[D].toString()],[B]:[,__expectNonNull(e[z],"accountId")]});let i;return s.m("GET").h(o).q(r).b(i),s.build()},ft=async(e,t)=>{const s=rb(e,t),o=map({},x,{[A]:e[R]});s.bp("/assignment/accounts");const r=map({[H]:[,e[G]],[M]:[()=>e.maxResults!==void 0,()=>e[D].toString()]});let i;return s.m("GET").h(o).q(r).b(i),s.build()},gt=async(e,t)=>{const s=rb(e,t),o=map({},x,{[A]:e[R]});s.bp("/logout");let r;return s.m("POST").h(o).b(r),s.build()},Ee=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E(e,t);const s=(0,n.Tj)({$metadata:h(e)}),o=(0,n.Y0)((0,n.Xk)(await(0,N.Y2)(e.body,t)),"body"),r=(0,n.s)(o,{roleCredentials:n.Ss});return Object.assign(s,r),s},St=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E(e,t);const s=map({$metadata:h(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,t)),"body"),r=take(o,{nextToken:__expectString,roleList:_json});return Object.assign(s,r),s},vt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E(e,t);const s=map({$metadata:h(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,t)),"body"),r=take(o,{accountList:_json,nextToken:__expectString});return Object.assign(s,r),s},bt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E(e,t);const s=map({$metadata:h(e)});return await collectBody(e.body,t),s},E=async(e,t)=>{const s={...e,body:await(0,N.CG)(e.body,t)},o=(0,N.cJ)(e,s.body);switch(o){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Re(s,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ae(s,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Pe(s,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ce(s,t);default:const r=s.body;return xe({output:e,parsedBody:r,errorCode:o})}},xe=(0,n.jr)(m),Re=async(e,t)=>{const s=(0,n.Tj)({}),o=e.body,r=(0,n.s)(o,{message:n.lK});Object.assign(s,r);const i=new w({$metadata:h(e),...s});return(0,n.Mw)(i,e.body)},Ae=async(e,t)=>{const s=(0,n.Tj)({}),o=e.body,r=(0,n.s)(o,{message:n.lK});Object.assign(s,r);const i=new T({$metadata:h(e),...s});return(0,n.Mw)(i,e.body)},Pe=async(e,t)=>{const s=(0,n.Tj)({}),o=e.body,r=(0,n.s)(o,{message:n.lK});Object.assign(s,r);const i=new O({$metadata:h(e),...s});return(0,n.Mw)(i,e.body)},Ce=async(e,t)=>{const s=(0,n.Tj)({}),o=e.body,r=(0,n.s)(o,{message:n.lK});Object.assign(s,r);const i=new L({$metadata:h(e),...s});return(0,n.Mw)(i,e.body)},h=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Et=(e,t)=>collectBody(e,t).then(s=>t.utf8Encoder(s)),x=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),z="accountId",R="accessToken",B="account_id",D="maxResults",M="max_result",G="nextToken",H="next_token",Ie="roleName",we="role_name",A="x-amz-sso_bearer_token";class Te extends n.uB.classBuilder().ep({...fe}).m(function(t,s,o,r){return[(0,pe.TM)(o,this.serialize,this.deserialize),(0,F.rD)(o,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(ge,ve).ser(be).de(Ee).build(){}var _=a(31758),Oe=a(46170),Le=a(96692),V=a(33202),S=a(57801),Ne=a(51320),P=a(25263),$e=a(50784),K=a(42952);const Ue=async(e,t,s)=>({operation:(0,K.u)(t).operation,region:await(0,K.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function je(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,s)=>({signingProperties:{config:t,context:s}})}}function C(e){return{schemeId:"smithy.api#noAuth"}}const ke=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":{t.push(C(e));break}case"ListAccountRoles":{t.push(C(e));break}case"ListAccounts":{t.push(C(e));break}case"Logout":{t.push(C(e));break}default:t.push(je(e))}return t},Fe=e=>({...(0,$e.h)(e)}),ze={rE:"3.637.0"};var Be=a(68227),De=a(62438),Me=a(51461),v=a(75854),Y=a(32117),Ge=a(88226),He=a(94134),_e=a(59065),Ve=a(42640),Z=a(61821);const Ke=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var $=a(20181);const Ye=(e,t=0,s=e.byteLength-t)=>{if(!Ke(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return $.Buffer.from(e,t,s)},Ze=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?$.Buffer.from(e,t):$.Buffer.from(e)},Je=e=>{const t=Ze(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},xt=e=>typeof e=="string"?fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),qe=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Ye(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};var We=a(6775),J=a(5332);const q="required",c="fn",d="argv",p="ref",W=!0,X="isSet",b="booleanEquals",y="error",f="endpoint",u="tree",U="PartitionResult",j="getAttr",Q={[q]:!1,type:"String"},ee={[q]:!0,default:!1,type:"Boolean"},te={[p]:"Endpoint"},se={[c]:b,[d]:[{[p]:"UseFIPS"},!0]},ne={[c]:b,[d]:[{[p]:"UseDualStack"},!0]},l={},oe={[c]:j,[d]:[{[p]:U},"supportsFIPS"]},re={[p]:U},ae={[c]:b,[d]:[!0,{[c]:j,[d]:[re,"supportsDualStack"]}]},ie=[se],ce=[ne],de=[{[p]:"Region"}],Xe={version:"1.0",parameters:{Region:Q,UseDualStack:ee,UseFIPS:ee,Endpoint:Q},rules:[{conditions:[{[c]:X,[d]:[te]}],rules:[{conditions:ie,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:y},{conditions:ce,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:y},{endpoint:{url:te,properties:l,headers:l},type:f}],type:u},{conditions:[{[c]:X,[d]:de}],rules:[{conditions:[{[c]:"aws.partition",[d]:de,assign:U}],rules:[{conditions:[se,ne],rules:[{conditions:[{[c]:b,[d]:[W,oe]},ae],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:f}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:y}],type:u},{conditions:ie,rules:[{conditions:[{[c]:b,[d]:[oe,W]}],rules:[{conditions:[{[c]:"stringEquals",[d]:[{[c]:j,[d]:[re,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:l,headers:l},type:f},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:f}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:y}],type:u},{conditions:ce,rules:[{conditions:[ae],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:f}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:y}],type:u},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:f}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:y}]},Qe=(e,t={})=>(0,J.sO)(Xe,{endpointParams:e,logger:t.logger});J.mw.aws=We.UF;const et=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Z.E,base64Encoder:e?.base64Encoder??Z.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Qe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??ke,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new _e.f2},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new g.mR}],logger:e?.logger??new n.N4,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Ve.D,utf8Decoder:e?.utf8Decoder??Je,utf8Encoder:e?.utf8Encoder??qe});var tt=a(12165);const st=e=>{(0,n.I9)(process.version);const t=(0,tt.I)(e),s=()=>t().then(n.lT),o=et(e);return(0,Be.I)(process.version),{...o,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Ge.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,De.mJ)({serviceId:o.serviceId,clientVersion:ze.rE}),maxAttempts:e?.maxAttempts??(0,v.Z)(P.qs),region:e?.region??(0,v.Z)(S.GG,S.zH),requestHandler:Y.$c.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,v.Z)({...P.kN,default:async()=>(await s()).retryMode||He.L0}),sha256:e?.sha256??Me.V.bind(null,"sha256"),streamCollector:e?.streamCollector??Y.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,v.Z)(S.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,v.Z)(S.Ko)}};var le=a(3119),ue=a(90130);const nt=e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(r){const i=t.findIndex(k=>k.schemeId===r.schemeId);i===-1?t.push(r):t.splice(i,1,r)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(r){s=r},httpAuthSchemeProvider(){return s},setCredentials(r){o=r},credentials(){return o}}},ot=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),I=e=>e,rt=(e,t)=>{const s={...I((0,le.Rq)(e)),...I((0,n.xA)(e)),...I((0,ue.eS)(e)),...I(nt(e))};return t.forEach(o=>o.configure(s)),{...e,...(0,le.$3)(s),...(0,n.uv)(s),...(0,ue.jt)(s),...ot(s)}};class at extends n.Kj{constructor(...[t]){const s=st(t||{}),o=ye(s),r=(0,V.Dc)(o),i=(0,P.$z)(r),k=(0,S.TD)(i),it=(0,_.OV)(k),ct=(0,F.Co)(it),dt=Fe(ct),he=rt(dt,t?.extensions||[]);super(he),this.config=he,this.middlewareStack.use((0,V.sM)(this.config)),this.middlewareStack.use((0,P.ey)(this.config)),this.middlewareStack.use((0,Ne.vK)(this.config)),this.middlewareStack.use((0,_.TC)(this.config)),this.middlewareStack.use((0,Oe.Y7)(this.config)),this.middlewareStack.use((0,Le.n4)(this.config)),this.middlewareStack.use((0,g.wB)(this.config,{httpAuthSchemeParametersProvider:Ue,identityProviderConfigProvider:async lt=>new g.h$({"aws.auth#sigv4":lt.credentials})})),this.middlewareStack.use((0,g.lW)(this.config))}destroy(){super.destroy()}}}};
